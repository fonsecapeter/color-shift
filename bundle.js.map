{"version":3,"sources":["webpack:///webpack/bootstrap 7ebc1ef1656b9dfc305b","webpack:///./lib/color_shift.js","webpack:///./lib/game_view.js","webpack:///./lib/game.js","webpack:///./lib/player.js","webpack:///./lib/moving_shape.js","webpack:///./lib/util.js","webpack:///./lib/constants.js","webpack:///./lib/shape.js"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 7ebc1ef1656b9dfc305b\n **/","const GameView = require('./game_view');\n\nconst startEl = document.getElementById('new');\nconst endEl = document.getElementById('end');\nconst canvasEl = document.getElementById(\"main\");\nconst clockEl = document.getElementById(\"clock\");\nconst endTimeEl = document.getElementById(\"end-time\");\n\ncanvasEl.width = viewportSize.getWidth() - 5;\ncanvasEl.height = viewportSize.getHeight() - 4;\n\nconst ctx = canvasEl.getContext('2d');\n\nfunction startGame () {\n  clockEl.className = \"clock\";\n  clockEl.innerHTML = \"\";\n  endEl.className = \"toplevel-wrapper hidden\";\n  startEl.className += \" hidden\";\n\n  window.playing = true;\n  const gameView = new GameView(canvasEl, clockEl, endEl, endTimeEl).start(ctx);\n}\n\nwindow.playing = false;\ndocument.addEventListener(\"keydown\", () => {\n  if (!window.playing && event.keyCode === 32) {\n    startGame();\n  }\n});\n\nstartEl.addEventListener(\"touchend\", () => {\n  if (!window.playing) {\n    startGame();\n  }\n}, false);\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/color_shift.js\n **/","const Game = require('./game');\nconst Player = require('./player');\n\nfunction GameView(canvasEl, clockEl, endEl, endTimeEl) {\n  this.canvasEl = canvasEl;\n  this.dimX = canvasEl.width;\n  this.dimY = canvasEl.height;\n  this.clockEl = clockEl;\n  this.endEl = endEl;\n  this.endTimeEl = endTimeEl;\n  this.playing = false;\n}\n\nGameView.MOVES = {\n  'w':     [ 0,  -0.2],\n  'up':    [ 0,  -0.2],\n  'a':     [-0.2, 0],\n  'left':  [-0.2, 0],\n  's':     [ 0,   0.2],\n  'down':  [ 0,   0.2],\n  'd':     [ 0.2, 0],\n  'right': [ 0.2, 0],\n\n  'up+left':    [-0.2, -0.2],\n  'up+right':   [ 0.2, -0.2],\n  'down+left':  [-0.2,  0.2],\n  'down+right': [ 0.2,  0.2]\n};\n\nGameView.prototype.mapKeyHandlers = function () {\n  const player = this.player;\n\n  Object.keys(GameView.MOVES).forEach( k => {\n    const move = GameView.MOVES[k];\n    key(k, () => { player.thrust(move); }); // vendor/keymaster.js\n  });\n};\n\nGameView.prototype.mapTouchHandlers = function () {\n  const player = this.player;\n\n  this.canvasEl.addEventListener(\"touchstart\", (event) => {\n    let xPos = event.originalEvent.touches[0].pageX;\n    let yPos = event.originalEvent.touches[0].pageY;\n\n    if (xPos > this.dimX / 2) {\n      player.thrust(GameView.moves('up'));\n    } else {\n      player.thrust(GameView.moves('down'));\n    }\n\n    if (yPos > this.dimY / 2) {\n      player.thrust(GameView.moves('right'));\n    } else {\n      player.thrust(GameView.moves('left'));\n    }\n  }, false);\n};\n\nGameView.prototype.start = function (ctx) {\n  this.time = 0;\n  this.startTime = Date.now();\n  this.game = new Game(this.dimX, this.dimY);\n  this.player = this.game.player;\n  this.playing = true;\n\n  if (this.cycle) {\n    clearInterval(this.cycle);\n  }\n\n  this.mapKeyHandlers();\n  this.mapTouchHandlers();\n\n  requestAnimationFrame(this.cycle.bind(this, ctx));\n};\n\nGameView.prototype.cycle = function (ctx) {\n  this.time = Math.floor((Date.now() - this.startTime) / 1000);\n  if (this.time > 0) {\n    this.clockEl.innerHTML = `${this.time}`;\n  }\n\n  this.game.step();\n  this.game.render(ctx);\n\n  if (this.game.isOver() === false ) {\n    requestAnimationFrame(this.cycle.bind(this, ctx));\n  } else {\n    this.endingSequence();\n  }\n};\n\nGameView.prototype.endingSequence = function () {\n  this.endTimeEl.innerHTML = `Completed in ${this.time} seconds`;\n  this.endEl.className = \"toplevel-wrapper\";\n  this.clockEl.className = \"clock hidden\";\n  window.playing = false;\n};\n\nmodule.exports = GameView;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/game_view.js\n **/","const Player = require('./player');\nconst Shape = require('./shape');\nconst Util = require('./util');\nconst Constants = require('./constants');\n\nconst NUM_SHAPES = 30;\n\nfunction Game (dimX, dimY) {\n  this.dimX = dimX;\n  this.dimY = dimY;\n  this.shapes = {\n    bright: [],\n    medium: [],\n    dim: []\n  };\n\n  for (let i = 0; i < NUM_SHAPES; i++) {\n    this.addShape();\n  }\n\n  const playerPos = [(dimX / 2), (dimY / 2)];\n  this.player = new Player(playerPos, this, this.invalidColors());\n  this.shapes.player = [this.player];\n}\n\nGame.prototype.step = function () {\n  this.isOver();\n  this.checkCollisions();\n  this.moveShapes();\n};\n\nGame.prototype.render = function (ctx) {\n  ctx.clearRect(0, 0, this.dimX, this.dimY);\n\n  this.forEachShape ( shape => {\n    shape.render(ctx);\n  });\n\n  this.player.render(ctx);\n};\n\nGame.prototype.checkCollisions = function () {\n  this.forEachShape ( shape => {\n    shape.alreadyCollided = [];\n  });\n  \n  this.forEachShape ( shape => {\n    if (shape.isCollidedWith(this.player) && shape !== this.player) {\n      shape.collidedWithPlayer();\n    }\n\n    this.forEachShape ( otherShape => {\n      if (otherShape !== shape) {\n        shape.isCollidedWith(otherShape);\n      }\n    });\n  });\n};\n\nGame.prototype.moveShapes = function () {\n  this.forEachShape(shape => {\n    shape.adjustForces();\n  });\n\n  this.forEachShape(shape => {\n    shape.move();\n  });\n\n  this.player.move();\n};\n\nGame.prototype.addShape = function (pos, velocity, radius) {\n  let shape;\n  if (!pos) {\n    pos = Util.randomPos(this.dimX, this.dimY);\n    shape = new Shape(pos, this);\n  } else {\n    shape = new Shape(pos, this, radius, velocity);\n  }\n\n  const clrCode = Object.keys(Constants.COLORS).filter( key => Constants.COLORS[key] === shape.color)[0];\n\n  this.shapes[clrCode].push(shape);\n};\n\nGame.prototype.removeShape = function (shape) {\n  const clrCode = Object.keys(Constants.COLORS).filter( key => Constants.COLORS[key] === shape.color)[0];\n\n  const idx = this.shapes[clrCode].indexOf(shape);\n  if (idx > -1) {\n    this.shapes[clrCode].splice(idx, 1);\n  }\n};\n\nGame.prototype.isOver = function () {\n  // Object.keys(this.shapes).forEach ( color => {\n  for (let i = 0; i < Object.keys(this.shapes).length; i ++) {\n    const color = Object.keys(this.shapes)[i];\n    if (this.shapes[color].length > 0 && color !== \"player\") {\n      return false;\n    }\n  }\n  return true;\n};\n\nGame.prototype.invalidColors = function () {\n  let colors = {};\n  Object.keys(Constants.COLORS).forEach( color => {\n    colors[Constants.COLORS[color]] = 0;\n  });\n\n  this.forEachShape ( shape => {\n    if (!shape.isPlayer) {\n      colors[shape.color] += 1;\n    }\n  });\n\n  let emptyColors = [];\n  Object.keys(colors).forEach( color => {\n    if (colors[color] < 1) {\n      emptyColors.push(color);\n    }\n  });\n\n  if (emptyColors.length < Object.keys(Constants.COLORS).length - 1 && this.player) {\n    emptyColors.push(this.player.color);\n  }\n\n  return emptyColors;\n};\n\nGame.prototype.forEachShape = function (callback) {\n  Object.keys(this.shapes).forEach( color => {\n    this.shapes[color].forEach ( shape => {\n      callback(shape);\n    });\n  });\n};\n\nmodule.exports = Game;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/game.js\n **/","const MovingShape = require('./moving_shape');\nconst Util = require('./util');\nconst Constants = require('./constants.js');\n\nconst RADIUS = 10;\nconst VELOCITY = [0, 0];\n\nconst Player = function (pos, game, invalidColors) {\n  this.isPlayer = true;\n  this.color = Util.randomColor(invalidColors);\n  MovingShape.call(this, pos, VELOCITY, RADIUS, this.color, game);\n};\n\nUtil.inherits(Player, MovingShape);\n\nPlayer.prototype.thrust = function (impulse) {\n  this.impulse[0] += impulse[0];\n  this.impulse[1] += impulse[1];\n};\n\nmodule.exports = Player;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/player.js\n **/","const Util = require('./util');\nconst Constants = require('./constants');\n\nfunction MovingShape (pos, velocity, radius, color, game) {\n  this.pos = pos;\n  this.velocity = velocity;\n  this.radius = radius;\n  this.color = color;\n  this.game = game;\n\n  this.mass = Math.pow(this.radius, 3);\n  this.reflectiveForce = [0, 0];\n  this.alreadyCollided = [];\n  this.impulse = [0, 0];\n  this.boundingForce = [1, 1];\n}\n\nMovingShape.prototype.render = function (ctx) {\n  ctx.fillStyle = this.color;\n  ctx.beginPath();\n\n  ctx.arc(\n    this.pos[0],\n    this.pos[1],\n    this.radius,0,\n    2 * Math.PI,\n    false\n  );\n\n  if (this.isPlayer) {\n    ctx.lineWidth = Constants.PLAYER_STROKE;\n    ctx.strokeStyle = this.color;\n    ctx.stroke();\n  } else {\n    ctx.fill();\n  }\n};\n\nMovingShape.prototype.move = function () {\n  this.ensureBounce(this.pos);\n\n  // if (this.isPlayer) {\n    this.windResit(this.velocity);\n  // }\n\n  this.pos[0] = this.pos[0] + (this.velocity[0]);\n  this.pos[1] = this.pos[1] + (this.velocity[1]);\n};\n\nMovingShape.prototype.windResit = function () {\n  const signage = [\n    (this.velocity[0] < 0) ? -1 : 1,\n    (this.velocity[1] < 0) ? -1 : 1\n  ];\n\n  const drag = [\n    Math.pow(this.velocity[0], 2) * this.radius * 0.0002 * signage[0],\n    Math.pow(this.velocity[1], 2) * this.radius * 0.0002 * signage[1]\n  ];\n\n  this.velocity = [\n    this.velocity[0] - drag[0],\n    this.velocity[1] - drag[1]\n  ];\n};\n\nMovingShape.prototype.adjustForces = function () {\n  if (this.reflectiveForce[0] === 0) {\n    this.reflectiveForce[0] = this.velocity[0];\n  }\n  if (this.reflectiveForce[1] === 0) {\n    this.reflectiveForce[1] = this.velocity[1];\n  }\n  this.velocity[0] = (this.reflectiveForce[0] + this.impulse[0]) * this.boundingForce[0];\n  this.velocity[1] = (this.reflectiveForce[1] + this.impulse[1]) * this.boundingForce[1];\n\n  this.reflectiveForce = [0, 0];\n  this.impulse = [0, 0];\n  this.boundingForce = [1, 1];\n};\n\nMovingShape.prototype.bounceOther = function (other) {\n  if (this.alreadyCollided.indexOf(other) === -1 &&\n      other.alreadyCollided.indexOf(this) === -1) {\n\n    const inelasticLoss = 0.9;\n    let velocityDiff = [], dispDiff = [];\n    velocityDiff[0] = this.velocity[0] - other.velocity[1];\n    velocityDiff[1] = this.velocity[1] - other.velocity[1];\n\n    dispDiff[0] = this.pos[0] - other.pos[0];\n    dispDiff[1] = this.pos[1] - other.pos[1];\n\n    // if both cirlces moving towards each other (avoid sticking)\n    if (Util.dotProduct(velocityDiff, dispDiff) < 0) {\n      this.alreadyCollided.push(other);\n      other.alreadyCollided.push(this);\n\n      let newReflectiveForce = [];\n      newReflectiveForce[0] = ( this.velocity[0] *\n        (this.mass - other.mass) +\n        (2 * other.mass * other.velocity[0])\n      ) / (this.mass + other.mass);\n      newReflectiveForce[1] = ( this.velocity[1] *\n        (this.mass - other.mass) +\n        (2 * other.mass * other.velocity[1])\n      ) / (this.mass + other.mass);\n\n      let newOtherReflectiveForce = [];\n      newOtherReflectiveForce[0] = ( other.velocity[0] *\n        (other.mass - this.mass) +\n        (2 * this.mass * this.velocity[0])\n      ) / (other.mass + this.mass);\n      newOtherReflectiveForce[1] = ( other.velocity[1] *\n        (other.mass - this.mass) +\n        (2 * this.mass * this.velocity[1])\n      ) / (other.mass + this.mass);\n\n      this.reflectiveForce[0] += (newReflectiveForce[0]) * inelasticLoss;\n      this.reflectiveForce[1] += (newReflectiveForce[1]) * inelasticLoss;\n      other.reflectiveForce[0] += (newOtherReflectiveForce[0]) * inelasticLoss;\n      other.reflectiveForce[1] += (newOtherReflectiveForce[1]) * inelasticLoss;\n  }\n    // stuck horizontally\n  } if (Math.abs(this.velocity[0]) + Math.abs(other.velocity[0]) < 0.2) {\n    let right, left;\n    if (this.pos[0] < other.pos[0]) {\n      left = this;\n      right = other;\n    } else {\n      left = other;\n      right = this;\n    }\n\n    // nudge apart\n    left.reflectiveForce[0] += -0.1;\n    right.reflectiveForce[0] += 0.1;\n\n    // stuck vertically\n  } else if (Math.abs(this.velocity[1]) + Math.abs(other.velocity[1]) < 0.2) {\n    let bottom, top;\n    if (this.pos[1] < other.pos[1]) {\n      top = this;\n      bottom = other;\n    } else {\n      top = other;\n      bottom = this;\n    }\n\n    // nudge apart\n    top.reflectiveForce[1] += -0.1;\n    bottom.reflectiveForce[1] += 0.1;\n  }\n};\n\n// at canvas boundries\nMovingShape.prototype.ensureBounce = function (pos) {\n  const bounce = this.outOfBounds(pos) || { axis: null, negative: false };\n\n  let reflection = -1;\n  let nudge = [0, 0];\n\n\n  if (bounce.x) {\n    if (bounce.xnegative) { // moving left\n      if (this.velocity[0] < 0) { this.boundingForce[0] = reflection; }\n      else if (this.velocity[0] > -0.2 && this.velocity[0] < 0) { nudge[0] = 0.2; }\n    } else {               // moving right\n      if (this.velocity[0] > 0) { this.boundingForce[0] = reflection; }\n      else if (this.velocity[0] < 0.2 && this.velocity[0] > 0) { nudge[0] = -0.2; }\n    }\n  } else if (bounce.y) {\n    if (bounce.ynegative) { // moving up\n      if (this.velocity[1] < 0) { this.boundingForce[1] = reflection; }\n      else if (this.velocity[1] > -0.2 && this.velocity[1] < 0) { nudge[1] = 0.2; }\n    } else {              // moving down\n      if (this.velocity[1] > 0) { this.boundingForce[1] = reflection; }\n      else if (this.velocity[1] < 0.2 && this.velocity[1] > 0) { nudge[1] = -0.2; }\n    }\n  }\n  if (this === this.game.player && nudge[1] !== 0) { console.log(this.reflectiveForce[1], nudge[1], this.boundingForce[1]); }\n\n  this.reflectiveForce[0] += nudge[0];\n  this.reflectiveForce[1] += nudge[1];\n};\n\nMovingShape.prototype.outOfBounds = function (pos) {\n  let output = {};\n\n  if ((pos[0] - this.radius) <= 0) {\n    output.x = true;    // left\n    output.xnegative = true;\n  } else if ((pos[0] + this.radius) >= this.game.dimX) {\n    output.x = true;    // right\n    output.xnegative= false;\n\n  } else if ((pos[1] - this.radius) <= 0) {\n    output.y = true;   //top\n    output.ynegative= true;\n  } else if ((pos[1] + this.radius) >= this.game.dimY) {\n    output.y = true;   //bottom\n    output.ynegative = false;\n  }\n\n  return output;\n};\n\nMovingShape.prototype.collidedWithPlayer = function () {\n  if (this.color === this.game.player.color && !this.isPlayer) {\n    // shrink the circle\n    this.radius -= 1;\n    this.mass = Math.pow(this.radius, 3);\n\n    // also pull the circle toward the center of the player\n    let pullx;\n    if (this.game.player.pos[0] < this.pos[0]) {\n      pullx = -0.7;\n    } else{\n      pullx = 0.7;\n    }\n\n    let pully;\n    if (this.game.player.pos[1] < this.pos[1]) {\n      pully = -0.7;\n    } else{\n      pully = 0.7;\n    }\n\n    this.reflectiveForce[0] += pullx;\n    this.reflectiveForce[1] += pully;\n\n    if (this.radius <= 1) {\n      this.game.removeShape(this);\n\n      // only pick from colors represented in game\n      let invalidColors = this.game.invalidColors();\n      (invalidColors.length >= Object.keys(Constants.COLORS).length) ? invalidColors = [] : invalidColors = invalidColors;\n      this.game.player.color = Util.randomColor(invalidColors);\n    }\n  }\n};\n\nMovingShape.prototype.isCollidedWith = function (other) {\n  const sumRadii = this.radius + other.radius;\n  const xDistance = Math.pow((this.pos[0] - other.pos[0]), 2);\n  const yDistance = Math.pow((this.pos[1] - other.pos[1]), 2);\n  const totDistance = Math.sqrt((xDistance + yDistance));\n\n  if (sumRadii >= totDistance) {\n    // don't bounce if collision is between player and shape of same color\n    if ((this.isPlayer && other.color !== this.color) || (!this.isPlayer && !other.isPlayer)) {\n      this.bounceOther(other);\n    }\n    return true;\n  } else {\n    return false;\n  }\n};\n\nmodule.exports = MovingShape;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/moving_shape.js\n **/","const Constants = require('./constants');\n\nconst Util = {\n  inherits (Child, Parent) {\n    function Surrogate(){}\n    Surrogate.constructor = Child;\n    Surrogate.prototype = Parent.prototype;\n    Child.prototype = new Surrogate();\n  },\n\n  randomVec (max) {\n    let x = (Math.random() * max);\n    let y = Math.sqrt(Math.pow(max, 2) - Math.pow(x, 2));\n\n    if (Math.random() > 0.5) {\n      x *= -1;\n    }\n    if (Math.random() > 0.5) {\n      y *= -1;\n    }\n\n    return [x, y];\n  },\n\n  randomColor (invalidColors) {\n\n    const codes = Object.keys(Constants.COLORS);\n    const codeSample = codes[Math.floor(Math.random() * Object.keys(Constants.COLORS).length)];\n\n    const sampledColor = Constants.COLORS[codeSample];\n    if (invalidColors && invalidColors.indexOf(sampledColor) !== -1) {\n      return Util.randomColor(invalidColors);\n    } else {\n      return sampledColor;\n    }\n  },\n\n  randomPos (maxWidth, maxHeight) {\n    return [\n      Math.floor((Math.random() * (maxWidth - Constants.MAX_RADIUS + 1)) + Constants.MAX_RADIUS),\n      Math.floor((Math.random() * (maxHeight - Constants.MAX_RADIUS + 1)) + Constants.MAX_RADIUS)\n    ];\n  },\n\n  randomRadius () {\n    return Math.floor((Math.random() * (Constants.MAX_RADIUS - 6 + 1)) + 6);\n  },\n\n  dotProduct (arr1, arr2) {\n    // assumes arr1.length === arr2.length\n    let dotProd = 0;\n    for (let i = 0; i < arr1.length; i++) {\n      dotProd += (arr1[i] * arr2[i]);\n    }\n    return dotProd;\n  }\n};\n\nmodule.exports = Util;\n\nwindow.maxWidth = viewportSize.getWidth() - 5;\nwindow.maxHeight = viewportSize.getHeight() - 4;\nwindow.Constants = Constants;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/util.js\n **/","const Constants = {\n  COLORS: {\n    bright: \"#0cc9c7\",\n    medium: \"#308282\",\n    dim: \"#2e4852\"\n  },\n\n  PLAYER_STROKE: 6,\n  MAX_RADIUS: 40\n};\n\nmodule.exports = Constants;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/constants.js\n **/","const Util = require('./util');\nconst MovingShape = require('./moving_shape');\nconst Player = require('./player');\n\nconst Shape = function (pos, game, radius, velocity, color) {\n  if (!velocity) {\n    velocity = Util.randomVec(((Math.random() * 0.6) + 0.001));\n  }\n\n  radius = radius || Util.randomRadius();\n\n  color = color || Util.randomColor();\n\n  MovingShape.call(this, pos, velocity, radius, color, game);\n};\n\nUtil.inherits(Shape, MovingShape);\n\nmodule.exports = Shape;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/shape.js\n **/"],"sourceRoot":""}